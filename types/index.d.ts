type PickPromise<P> = P extends Promise<infer R> ? R : P;